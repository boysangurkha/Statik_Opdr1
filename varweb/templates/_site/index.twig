{% extends "_site/_layout" %}

{% block content %}
    

    {% include '_site/_snippet/_content/_hero' %}

    {% for block in entry.contentBuilder %}
        {% if block.type == 'textImage' %}
        <div class="container">
            {% include '_site/_snippet/_content/_blocks/_' ~ block.type %}
        </div>
        {% endif %}
    {% endfor %}

    {% set news = craft.entries().section('news').with(['overviewImage']).orderBy('postDate DESC').limit(3).collect() %}
    {% if news|length %}
        <div class="section section--default bg-offwhite">
            <div class="container">
                <div class="flex justify-between pt-7.5 pb-2">
                    {% set newsOverview = craft.entries.section('newsOverview').one() %}
                    {% if newsOverview|length %}
                        <h2 class="heading-2 font-serif font-medium text-xl">
                            {{ 'laatste nieuws'|t }}
                        </h2>
                    {% endif %}
                    <a href="{{ newsOverview.url }}" class="font-sans font-medium text-pitchblack link link--ext hover:underline">{{ "Alle adviezen bekijken"|t }}</a>
                </div>
                <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 md:grid-cols-3">
                    {% for cardEntry in news.all() %}
                        {% include '_site/_snippet/_item/_card' with {amount: news.count()} %}
                    {% endfor %}
                </div> 
            </div>
        </div>
    {% endif %}

    {% for block in entry.contentBuilder %}
        {% if block.type == 'textVideo' %}
            {% include '_site/_snippet/_content/_blocks/_' ~ block.type %}
        {% endif %}
    {% endfor %}

{% endblock %}
